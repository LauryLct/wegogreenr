<div class="container">
  <div class="avatar">
    <%= render 'shared/avatar' %>
  </div>

  <div class="name">
    <h3>Bienvenue <%= @user.profile.first_name %></h3>
    <h5>voir mon profil</h5>
  </div>
</div>
<div class="event_l">
  <div class="valeur-1", id="aliment">
    <%= image_tag "Alimentation-n.png", class: "icon-alimentation" %>
    <div>
      <h5>MES EPICERIES PREFEREES</h5>
      <% @user.favorites.joins(:activity).where(activities: { category: 'Alimentation' }).each do |favorite| %>
      <% end %>
    </div>
  </div>
  <div class="valeur-4", id="restau">
    <%= image_tag "Restaurant-n.png", class: "icon-restaurant" %>
    <div>
      <h5>MES RESTAURANTS PREFERES</h5>
      <% @user.favorites.joins(:activity).where(activities: { category: 'Restaurant' }).each do |favorite| %>
      <% end %>
    </div>
  </div>
  <div class="valeur-2", id="shop">
    <%= image_tag "Shop-n.png", class: "icon-shop" %>
    <div>
      <h5>MES SHOPS PREFERES</h5>
      <% @user.favorites.joins(:activity).where(activities: { category: 'Shop' }).each do |favorite| %>
      <% end %>
    </div>
  </div>
  <div class="valeur-3", id="atelier">
    <%= image_tag "DIY-n.png", class: "icon-DIY" %>
    <div>
      <h5>MES ATELIERS PREFERES</h5>
      <% @user.favorites.joins(:activity).where(activities: { category: 'Atelier' }).each do |favorite| %>
      <% end %>
    </div>
  </div>
  <div class="valeur-4", id="evenement">
    <%= image_tag "Event-n.png", class: "icon-event" %>
    <div>
      <h5>MES EVENTS</h5>
      <% @user.favorites.joins(:activity).where(activities: { category: 'Event' }).each do |favorite| %>
      <% end %>
  </div>
</div>
</div>
  <div class="select aliment">
      <% @user.favorites.joins(:activity).where(activities: { category: 'Alimentation' }).each do |favorite| %>
        <%= render  "shared/activity_cards", activity: favorite.activity %>
      <% end %>
    </div>

    <div class="select shop">
      <% @user.favorites.joins(:activity).where(activities: { category: 'Shop' }).each do |favorite| %>
        <%= render  "shared/activity_cards", activity: favorite.activity %>
      <% end %>
    </div>
    <div class="select atelier">
      <% @user.favorites.joins(:activity).where(activities: { category: 'Atelier' }).each do |favorite| %>
        <%= render  "shared/activity_cards", activity: favorite.activity %>
      <% end %>
    </div>

    <div class="select restau">
      <% @user.favorites.joins(:activity).where(activities: { category: 'Restaurant' }).each do |favorite| %>
        <%= render  "shared/activity_cards", activity: favorite.activity %>
      <% end %>
    </div>
    <div class="select evenement">
      <% @user.favorites.joins(:activity).where(activities: { category: 'Event' }).each do |favorite| %>
        <%= render  "shared/activity_cards", activity: favorite.activity %>
      <% end %>
    </div>
  </div>
</div>


<script>
  var button = document.querySelectorAll('.event_l')
  button.forEach((icon)=> {
    icon.addEventListener('click', function(event){
      console.log(event.target.id)

      var all = document.querySelectorAll('.select')
      var elementSelect = document.querySelectorAll(`.select.${event.target.id}`)
      console.log(elementSelect)
      all.forEach((element) => {
        element.setAttribute('hidden', true);
      })
      elementSelect.forEach((element) => {
        element.removeAttribute('hidden');
      })
    })
    } )
</script>